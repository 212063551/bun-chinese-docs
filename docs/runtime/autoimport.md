# 自动安装

如果在工作目录或更高版本中找不到 `node_modules` 目录，则 Bun 将放弃 Node.js 风格的模块解析，而采用 Bun 模块解析算法。

在 Bun 风格的模块解析下，所有导入的软件包在执行期间都会自动安装到[`全局模块缓存`]/docs/install/cache) 中 (与 bun install 使用的缓存相同)。

```js
import { foo } from 'foo'; // 安装 “最新” 版本

foo();
```

第一次运行该脚本时，Bun 会自动安装"foo"并存储它。下一次运行脚本时，将使用存储的版本。

## 版本解析

为了确定要安装的版本，Bun 遵循以下算法：

- 检查项目根目录中的 bun.lockb 文件。如果存在，请使用固定文件中指定的版本。
- 否则，向上扫描树以查找包含 package.json 作为依赖项的"foo"。如果找到，请使用指定的 semver 版本或版本范围。
- 否则，请使用 `Latest`。

## 缓存行为

一旦确定了版本或版本范围，Bun 将：

1. 检查模块缓存中是否有兼容版本。如果存在，就使用它。
2. 在解析 Latest 时，Bun 将检查是否在过去 24 小时内下载并缓存了 Package@Latest。如果是这样的话，就使用它。
3. 否则，请从 npm 注册表下载并安装适当的版本。

## 安装
